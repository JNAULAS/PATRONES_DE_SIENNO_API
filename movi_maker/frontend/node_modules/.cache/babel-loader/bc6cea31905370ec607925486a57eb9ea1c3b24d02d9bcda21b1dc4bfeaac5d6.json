{"ast":null,"code":"var _jsxFileName = \"C:\\\\WORKSPACE_MAESTRIA_PATRONES_DISE\\xD1O_API\\\\PATRONES_DE_SIENNO_API\\\\movi_maker\\\\frontend\\\\src\\\\components\\\\AddMovie.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { HashLink as Link } from 'react-router-hash-link';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddMovie = () => {\n  _s();\n  useEffect(() => {});\n  const handleSave = async () => {\n    async function fetchProducts() {\n      const response = await fetch('http://localhost:4000/graphql', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          query: `\n                  {\n                    movies {\n                      id\n                      name\n                      genero\n                      year\n                    }\n                  }\n                `\n        })\n      });\n      if (!response.ok) {\n        console.error('Error en la solicitud GraphQL:', response.statusText);\n        return;\n      }\n      const data = await response.json();\n      console.log(data);\n      //const moviesList = document.getElementById('product-list');\n      //productList.innerHTML = '';\n\n      data.data.movies.forEach(product => {\n        const li = document.createElement('li');\n        li.textContent = `ID: ${product.id}, Nombre: ${product.name}, Valor: $${product.value}`;\n        productList.appendChild(li);\n      });\n    }\n    async function addProduct() {\n      const movieName = document.getElementById('productName').value;\n      const movieGenero = parseFloat(document.getElementById('productValue').value);\n      if (!productName || isNaN(productValue)) {\n        alert('Ingresa un nombre y un valor válido.');\n        return;\n      }\n      const response = await fetch('http://localhost:4000/graphql', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          query: `\n                  mutation {\n                    addMovies(name: \"${productName}\", value: ${productValue}) {\n                      id\n                      name\n                      value\n                    }\n                  }\n                `\n        })\n      });\n      await fetchProducts();\n      document.getElementById('productName').value = '';\n      document.getElementById('productValue').value = '';\n    }\n  };\n  return (\n    /*#__PURE__*/\n    // Se agrega id para poder se enlazado desde el boton de otro componente\n    _jsxDEV(\"div\", {\n      className: \"addMovie\",\n      id: \"addmovie\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Movie name\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Movie Genero\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Movie Year\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Add Movie\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"top\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          smooth: true,\n          to: \"#header\",\n          className: \"top-button\",\n          onClick: handleSave,\n          children: \"Back to top\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this)\n  );\n};\n_s(AddMovie, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = AddMovie;\nexport default AddMovie;\nvar _c;\n$RefreshReg$(_c, \"AddMovie\");","map":{"version":3,"names":["React","useEffect","HashLink","Link","jsxDEV","_jsxDEV","AddMovie","_s","handleSave","fetchProducts","response","fetch","method","headers","body","JSON","stringify","query","ok","console","error","statusText","data","json","log","movies","forEach","product","li","document","createElement","textContent","id","name","value","productList","appendChild","addProduct","movieName","getElementById","movieGenero","parseFloat","productName","isNaN","productValue","alert","className","children","type","placeholder","required","fileName","_jsxFileName","lineNumber","columnNumber","smooth","to","onClick","_c","$RefreshReg$"],"sources":["C:/WORKSPACE_MAESTRIA_PATRONES_DISEÑO_API/PATRONES_DE_SIENNO_API/movi_maker/frontend/src/components/AddMovie.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { HashLink as Link } from 'react-router-hash-link';\n\nconst AddMovie = () => {\n\n    useEffect(() => {\n    \n    })\n    \n    const handleSave = async() =>{\n        async function fetchProducts() {\n            const response = await fetch('http://localhost:4000/graphql', {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n              body: JSON.stringify({\n                query: `\n                  {\n                    movies {\n                      id\n                      name\n                      genero\n                      year\n                    }\n                  }\n                `,\n              }),\n            });\n      \n          if (!response.ok) {\n              console.error('Error en la solicitud GraphQL:', response.statusText);\n              return;\n          }\n      \n            const data = await response.json();\n            console.log(data);\n            //const moviesList = document.getElementById('product-list');\n            //productList.innerHTML = '';\n      \n            data.data.movies.forEach(product => {\n              const li = document.createElement('li');\n              li.textContent = `ID: ${product.id}, Nombre: ${product.name}, Valor: $${product.value}`;\n              productList.appendChild(li);\n            });\n          }\n      \n          async function addProduct() {\n            const movieName = document.getElementById('productName').value;\n            const movieGenero = parseFloat(document.getElementById('productValue').value);\n      \n            if (!productName || isNaN(productValue)) {\n              alert('Ingresa un nombre y un valor válido.');\n              return;\n            }\n      \n            const response = await fetch('http://localhost:4000/graphql', {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n              body: JSON.stringify({\n                query: `\n                  mutation {\n                    addMovies(name: \"${productName}\", value: ${productValue}) {\n                      id\n                      name\n                      value\n                    }\n                  }\n                `,\n              }),\n            });\n      \n            await fetchProducts();\n            document.getElementById('productName').value = '';\n            document.getElementById('productValue').value = '';\n          }\n    \n    }\n\n\n    return (\n        // Se agrega id para poder se enlazado desde el boton de otro componente\n        <div className='addMovie' id='addmovie'>\n            <form>\n                <input type='text' placeholder='Movie name' required ></input>\n                <input type='text' placeholder='Movie Genero' required ></input>\n                <input type='text' placeholder='Movie Year' ></input>\n                <button>Add Movie</button>\n            </form>\n            <div className='top'>\n                <Link smooth to='#header' className='top-button' onClick={handleSave}>Back to top</Link>\n            </div>\n        </div>\n    )\n}\nexport default AddMovie"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,QAAQ,IAAIC,IAAI,QAAQ,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1D,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAEnBN,SAAS,CAAC,MAAM,CAEhB,CAAC,CAAC;EAEF,MAAMO,UAAU,GAAG,MAAAA,CAAA,KAAU;IACzB,eAAeC,aAAaA,CAAA,EAAG;MAC3B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,+BAA+B,EAAE;QAC5DC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBC,KAAK,EAAG;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;QACc,CAAC;MACH,CAAC,CAAC;MAEJ,IAAI,CAACP,QAAQ,CAACQ,EAAE,EAAE;QACdC,OAAO,CAACC,KAAK,CAAC,gCAAgC,EAAEV,QAAQ,CAACW,UAAU,CAAC;QACpE;MACJ;MAEE,MAAMC,IAAI,GAAG,MAAMZ,QAAQ,CAACa,IAAI,CAAC,CAAC;MAClCJ,OAAO,CAACK,GAAG,CAACF,IAAI,CAAC;MACjB;MACA;;MAEAA,IAAI,CAACA,IAAI,CAACG,MAAM,CAACC,OAAO,CAACC,OAAO,IAAI;QAClC,MAAMC,EAAE,GAAGC,QAAQ,CAACC,aAAa,CAAC,IAAI,CAAC;QACvCF,EAAE,CAACG,WAAW,GAAI,OAAMJ,OAAO,CAACK,EAAG,aAAYL,OAAO,CAACM,IAAK,aAAYN,OAAO,CAACO,KAAM,EAAC;QACvFC,WAAW,CAACC,WAAW,CAACR,EAAE,CAAC;MAC7B,CAAC,CAAC;IACJ;IAEA,eAAeS,UAAUA,CAAA,EAAG;MAC1B,MAAMC,SAAS,GAAGT,QAAQ,CAACU,cAAc,CAAC,aAAa,CAAC,CAACL,KAAK;MAC9D,MAAMM,WAAW,GAAGC,UAAU,CAACZ,QAAQ,CAACU,cAAc,CAAC,cAAc,CAAC,CAACL,KAAK,CAAC;MAE7E,IAAI,CAACQ,WAAW,IAAIC,KAAK,CAACC,YAAY,CAAC,EAAE;QACvCC,KAAK,CAAC,sCAAsC,CAAC;QAC7C;MACF;MAEA,MAAMnC,QAAQ,GAAG,MAAMC,KAAK,CAAC,+BAA+B,EAAE;QAC5DC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBC,KAAK,EAAG;AACxB;AACA,uCAAuCyB,WAAY,aAAYE,YAAa;AAC5E;AACA;AACA;AACA;AACA;AACA;QACc,CAAC;MACH,CAAC,CAAC;MAEF,MAAMnC,aAAa,CAAC,CAAC;MACrBoB,QAAQ,CAACU,cAAc,CAAC,aAAa,CAAC,CAACL,KAAK,GAAG,EAAE;MACjDL,QAAQ,CAACU,cAAc,CAAC,cAAc,CAAC,CAACL,KAAK,GAAG,EAAE;IACpD;EAEN,CAAC;EAGD;IAAA;IACI;IACA7B,OAAA;MAAKyC,SAAS,EAAC,UAAU;MAACd,EAAE,EAAC,UAAU;MAAAe,QAAA,gBACnC1C,OAAA;QAAA0C,QAAA,gBACI1C,OAAA;UAAO2C,IAAI,EAAC,MAAM;UAACC,WAAW,EAAC,YAAY;UAACC,QAAQ;QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAS,CAAC,eAC9DjD,OAAA;UAAO2C,IAAI,EAAC,MAAM;UAACC,WAAW,EAAC,cAAc;UAACC,QAAQ;QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAS,CAAC,eAChEjD,OAAA;UAAO2C,IAAI,EAAC,MAAM;UAACC,WAAW,EAAC;QAAY;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAS,CAAC,eACrDjD,OAAA;UAAA0C,QAAA,EAAQ;QAAS;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxB,CAAC,eACPjD,OAAA;QAAKyC,SAAS,EAAC,KAAK;QAAAC,QAAA,eAChB1C,OAAA,CAACF,IAAI;UAACoD,MAAM;UAACC,EAAE,EAAC,SAAS;UAACV,SAAS,EAAC,YAAY;UAACW,OAAO,EAAEjD,UAAW;UAAAuC,QAAA,EAAC;QAAW;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EAAC;AAEd,CAAC;AAAA/C,EAAA,CA7FKD,QAAQ;AAAAoD,EAAA,GAARpD,QAAQ;AA8Fd,eAAeA,QAAQ;AAAA,IAAAoD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}